[[T1-Fonaments_2-CA.pdf]]

# Parts d'un codi
- Fitxers capçalera: copia-pega d'un codi
```
	#include <iostream>
```

# Compilació
De codi d'alt nivell a un altre (executable o un altre d'alt nivell)
```gcc -o hello hello.c ``` genera un fitxer amb el codi executable
- Enllaçador: uneix diversos fitxers (marca dins de quina carpeta es troba cada un)

## Passos:
1. Alt nivell a codi pre-processat
	- Utilitza un pre-precessador: 1a passada per paraules clau ```#include, #define...```
	- ```gcc -E fitxer.c ``` per generar un fitxer amb codi pre-processat
2. Pre-processat a codi assemblador a codi màquina
	- Entendible pels humans (però costa), és una representació en mnemotècnics de les instruccions per la màquina
	- Normalment es salta i passa directament a codi de màquina
	- El resultat sempre és ```.o``` (fitxer objecte)
	- Fitxer biblioteca: combinació de fitxers objecte
	- És quasi executable, li falten els últims detalls
3. màquina a executable
	- Final de línia

# Optimitzacions del Compilador
Quan millor la compilació més ràpid el programa
Es pot escollir el nivell d'optimització:
	- `-O0` No optimitza res
	- `-O1` Redueix la mida i temps del codi sense allargar el temps de compilació
	- `-O2` Optimitza bastant (el més usual)
	- `-O3` Optimitza el màxim, fins el punt on el codi pot fallar

# Fitxer objecte: estructura
1. Capçalera: mida + localització 
2. Segment de Text: instruccions
3. Segment Estàtic de Dades: Variables, separades en variables globals i locals
4. Taula de símbols: índex d'un llibre, informa sobre la localització de les variables
5. Informació de reubicació: Resol les dudes que queden després de la taula de símbols
6. Informació de depuració: opcional, normalment no es posa, serveix per informar a l'informàtic sobre executables 

# Biblioteques
Permeten enllaçar les crides del programa a les instruccions pròpies del sistema operatiu (serà diferent per linux, windows...)

## Tipus
- De Llenguatge: no tenen perquè cridar al sistema, són funcions del llenguatge
- Del Sistema: efectuen crides al sistema, les quals seran diferents depenent del HardWare

# Enllaçament
La manera en què es comunica les llibreries al codi compilat
## Estàtic
S'afegeix la llibreria **dins** del codi, per tant no depèn de que l'ordinador tingui descarregada la llibreria
## Dinàmic
L'executable té marcada la ubicació de les llibreries i, per tant, no les ha d'incloure

# Executables
Programa completament preparat per ser executat
## Dwarf
Secció del debugger que ajuda a relacionar les línies d'alt nivell amb el codi compilat (no serveix per codis interpretats)
